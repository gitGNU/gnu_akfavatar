2007-10-28  Andreas K. Foerster  <info@akfoerster.de>

	* version 0.14.4 released

	* configure, avatar-audio.c:
	fixes for old SDL versions (1.2.0)

	* balloonpointer.c, circle.c:
	fixes for old compilers

	* akfavatar.h, avatar.c (avt_initialize):
	new mode: AUTOMODE

	* avatarsay (processfile):
	fix: use clearerr when ignore_eof is set

	* configure, Makefile.in:
	compatiblity to FreeBSD (pmake)
	
	* avatar.c (avt_mb_encoding):
	try to autodetect internal encoding

	* avatar.c (MB_DEFAULT_ENCODING):
	fixed typo

	* avatar.c (avt_drawchar, avt_ask):
	don't use wint_t for compatiblity reasons (wasn't needed anyway)

2007-10-16  Andreas K. Foerster  <info@akfoerster.de>

	* version 0.14.3 released

	* akfavatar.pas (ScreenSize):
	implemented as functuion (was a variable)

	* akfavatar.pas (AvatarImageData, LoadSoundData, ShowImageData):
	new functions

	* font.c, avatar.c:
	support for 9x18 font with 800x600 resolution
	640x480 only used, when compiled for symbol "VGA"
	
	* avatar.c (avt_drawchar):
	added general support for fixed fontwidth > 8 <= 16

	* avatarsay:
	new option: --popup

	* gnome-avatarsay:
	write .encoding into new files

	* avatar.c (avt_delete_lines, avt_insert_lines):
	optimized scrolling

	* configure, Makefile.in:
	can be build from a separate build directory

2007-10-07  Andreas K. Foerster  <info@akfoerster.de>

	* version 0.14.2 released

	* gnome-akfavatar:
	german translation

	* acatarsay.c (move_out):
	don't wait after moving out, unless running as loop

	* avatarsay.c (checkoptions, help):
	new option: "--encoding="

	* avatar.c (avt_mb_decode):
	error-tolerance for broken multibyte encodings (UTF-8)

	* avatarsay.c (check_system_encoding):
	new function: try to get encoding from LC_ALL, LC_CTYPE or LANG

	* gnome-akfavatar:
	open Website from menu
	
	* avatarsay.c (help, handle_image_command)
	(handle_avatarimage_command, handle_audio_command):
	datadir needs no trailing slash anymore

2007-09-27  Andreas K. Foerster  <info@akfoerster.de>

	* version 0.14.1 released

	* avatar.c (avt_say):
	fix: check for events with each char, when the delay is switched off

	* akfavatar.h, avatar.c (avt_set_text_delay, avt_set_flip_page_delay):
	new functions
	(avt_set_delays): marked deprecated
	
	* akfavatar.pas (SetTextDelay, SetFlipPageDelay)
	new functions

	* akfavatar.pas 
	(MoveAvatarIn): fix: after initializing the system, the avatar
	  isn't moved in a second time
	(MoveAvatarOut): if not initialized, do nothing

	* avatar.c (avt_initialize):
	ballonheight is aligned with the LINEHEIGHT

	* akfavatar.h, avatar.c (avt_set_scroll_mode, avt_get_scroll_mode):
	new functions

	* akfavatar.h, avatar.c (avt_delete_lines, avt_insert_lines):
	new functions
	
	* akfavatar.pas (ClearKeys):
	new procedure

	* avatar.c (avt_say, avt_new_line):
	fix: new line after the last line make the text scroll or page flip
	(fixes bug introduced in 0.13.1)
	
	* avatar.c (avt_say, avt_ask):
	fix: off-by-one error fixes

        * akfavatar.pas (fpc_io_read, gpc_io_read):
	fix: clear keyboard buffer

	* akfavatar.h, avatar.c (avt_viewport):
	new function

	* akfavatar.h, avatar.c (avt_bell, avt_flash):
	new functions

	* akfavatar.pas (beep, flash):
	new procedures

	* akfavatar.pas (initializeAvatar):
	always try to initialize the audio system
	
	* avatar.c (avt_say, avt_ask):
	support avt_bell

	* avatar-audio.c (avt_initialize_audio, avt_quit_audio):
	register audio sound with bell function
	(short_audio_sound): new function
	
	* separate compilation of the font
	
	* avatar.c (avt_drawchar):
	fix: font-rendering for QVGA fixed

2007-09-14  Andreas K. Foerster  <info@akfoerster.de>

	* version 0.14.0 released

	* reorganized creation of binary-packages
	
	* link directly to SDL on Windows and Mac

2007-09-07  Andreas K. Foerster  <info@akfoerster.de>

	* akfavatar.h, avatar.c (avt_stop_on_esc):
	new function

	* akfavatar.h, avatar.c (avt_set_delays):
	new function
	dodelay: variable removed

	* avatarsay.c (keyhandler): new function

	* avatar.c (avt_analyze_event):
	don't check for the Esc key or space key
	these have to be handled externally

	* akfavatar.h, avatar.c (avt_reset_status): removed
	(avt_set_status): new function

	* avatar.pas renamed to akfavatar.pas

	* akfavatar.pas:
	no need to link to SDL or pthread directly

	* akfavatar.h, avatar.c (avt_register_keyhandler):
	new function

	* avatar.c (avt_analyze_event):
	support for external keyhandler
	
	* akfavatar.pas:
	support for writing to TextAttr
	support for KeyPressed, ReadKey
	support for CheckBreak
	support for CheckEsc
	dummys for CheckEof, CheckSnow, DirectVideo
	dummy for Sound

2007-08-28  Andreas K. Foerster  <info@akfoerster.de>

	* version 0.13.1 released

	* switching to a 3 number version scheme with 2 numbers in the so-name

	* major rewrite of character and color handling

	* joined header files together to akfavatar.h

	* akfavatar.h, avatar.c (avt_clear_screen):
	new function

	* akfavatar.h, avatar.c (avt_clear_eol):
	new function

	* akfavatar.h, avatar.c 
	(avt_set_text_color, avt_set_text_background_color):
	new functions

	* avatar.pas:
	(PlaySoundFile): renamed from PlayAudioFile
	(WaitSoundEnd): renamed from WaitAudioEnd
	(NoSound): renamed from StopAudio
	(Sound): added as dummy function, full support planned

	* avatar.pas (TextColor, TextBackground, ClrEol):
	(NormVideo, HighVideo, LowVideo):
	new functions
	(TextAttr, WindMin, WindMax):
	new variables (just for reading!)

	* avatar.c (avt_wait_key):
	fix: message gets cleared again

	* renamed library to libakfavatar

	* avatar.pas (Initialize):
	don't close input/output (fixes problem under Windows)

	* avatar.c (avt_new_line, avt_say, avt_ask):
	a new line doesn't enforce a new page yet, only actually trying
	to print something outside the area does
	
	* gpcavatar, fpcavatar:
	define the symbol AKFAvatar
	
	* avatar.pas (initializeAvatar):
	use "AKFAvatar" as title and icon name

2007-08-20  Andreas K. Foerster  <info@akfoerster.de>

	* version 0.12 released
	migration to Savannah
	
	* renamed documentation to akfavatar-en.texinfo

        * akfavatar.xpm, regicon.c:
	new icon

	* avatar.h (avt_default): prototype added
	avatarsay.c: prototype avt_default removed

2007-08-18  Andreas K. Foerster  <info@akfoerster.de>

	* version 0.11 released

	* avatar.c (avt_say):
	ignore a BOM and derived forms

	* avatarsay.c (check_bom): new function
	(processfile): use check_bom

	* avatarsay.c (process_line_end, processfile):
	support for \r\n as line ending

	* avatarsay.c (main):
	changed option list (SDL-hack needed for Windows)

	* avatar.c (avt_toggle_fullscreen):
	new method to toggle the fullscreen mode
	(should also work on Windows?)

	* avatarsay.c (iscommand, handle_backgoundcolor_command):
	new command: .backgroundcolor

2007-08-11  Andreas K. Foerster  <info@akfoerster.de>

	* version 0.10 released

	* avatar.c avatar.h (avt_set_background_color):
	new function

	* avatar.c [OLD_SDL] (_avt_iconv):
	new function: imitates SDL_iconv () for old SDL versions

	* avatar.c, avatar.h:
	(avt_mb_encoding): new function
	(avt_say_mb, avt_wait_key_mb, avt_ask_mb, avt_quit): adapted
	avatarsay.c (set_encoding): new function
	(main, iscommand): adapted

	* avatar.c (avt_mb_encoding):
        use macro ICONV_TARGET

	* avatar.c (avt_ask_mb):
	fix: string termination

	* avatar.c (avt_drawchar):
	try to fix font drawing again
	
	* configure, avatar.c:
	support for "./configure --with-oldsdl"

2007-08-06  Andreas K. Foerster  <info@akfoerster.de>

	* version 0.9 released

	* avatar.c (avt_wait), avatar-audio.c (avt_wait_audio_end):
	only sleep for one process cycle

	* avatar.c (avt_move_in, avt_move_out):
	rewritten (no fixed framerate anymore)

	* avatar.c (avt_analyze_event):
	Left Alt + Return -> avt_toggle_fullscreen
	Left Alt + Ctrl + F -> avt_toggle_fullscreen

	* avatar.c (avt_toggle_fullscreen):
	new function

	* gnome-akfavatar (show_command):
	show a warning

	* gnome-akfavatar:
	fix: exit code 0 when stopped with the cancel button
	search for avatarsay in PATH before the current dir
	reordered the main menu

2007-07-29  Andreas K. Foerster  <info@akfoerster.de>

	* version 0.8a released

	* gnome-akfavatar:
	improved main menu
	save settings

	* avtman, gnome-akfavatar (show_manpage):
	use Latin1 encoding (workaround: man outputs broken UTF-8 code)

2007-07-28  Andreas K. Foerster  <info@akfoerster.de>

	* version 0.8 released

	* avatar.c, avatar.h (avt_version, avt_copyright, avt_license):
	new functions
	
	* gnome-akfavatar:
	new script

	* avatarsay.c (iscommand):
	silently ignore .avatarimage command when it's too late

	* avatarsay.c (checkenvironment):
	errors while loading the AVATARIMAGE are considered fatal

	* avatar.c (avt_initialize):
	don't try to center the window
	switch handling of not needed events off
	support for alpha channel in avatar image
	
	* avatar.c (avt_drawbaloon):
	cut balloonpointer if it's too large

	* avatarsay.c (notice):
	new function for unimportant notices

	* avatar-default.c:
	support for smaller image

	* avatar.c, ucsfont4x6.c:
	support for tiny font

	* avatar.c (avt_drawchar):
	fixed font interpretation

2007-07-19  Andreas K. Foerster  <info@akfoerster.de>

	* version 0.7 released

	* avatarsay.c (help, showversion, warning, error):
	use MessageBox under Windows

	* avatar.c (avt_initialize, avt_resize):
	screenflags as global variable

2007-07-17  Andreas K. Foerster  <info@akfoerster.de>

	* version 0.6 released
	
	* avatar.c (avt_set_colors):
	new function (fixes wrong colors after resizing)

2007-07-16  Andreas K. Foerster  <info@akfoerster.de>

	* version 0.5 released

	* avatar.pas:
	GPC: link with pthread under GNU/Linux

	* avatar.c (avt_import_image_data):
	can use SDL_image

	* avatar.c (load_SDL_image):
	load function "IMG_Load_RW"

	* avatar.c (avt_show_image_data):
	new function
	
	* avatar.c, avatar.h (avt_show_image):
	made static, removed from header

2007-07-13  Andreas K. Foerster  <info@akfoerster.de>

	* version 0.4 released

        * avatarsay.c (processfile):
	fixes bugs with ignore_eof

	* avatarsay.c: eliminated some possible buffer-overflows

	* avatarsay.c (iscommand, handle_image_command):
	(handle_audio_command, handle_back_command, handle_read_command): 
	check for all commands whether the avatar is initialized or not

	* avatarsay.c (iscommand): support for ".encoding"

	* configure: exports "srcdir"
	creates "doc/version.texi"

	* fsdemo-??, avtcharset:
	run with ./avatarsay-s

	* avatarsay.c (help, checkoptions):
	support for -F, --fullfullscreen

	* avatarsay.c (avt_analyze_event):
	don't toggle fullscreenmode when FULLSCREENNOSWITCH is requested	

        * avatarsay.c (avt_initialize, avt_analyze_event, avt_ask)
	(avt_move_in, avt_move_out, avt_wait_key): 
	support for resizing the window
	(avt_resize): new function

	* avatarsay.c (avt_initialize): 
	renamed variable "mymode" to "screenflags"
	avt_mode as global variable

	* avatarsay.c (iscommand): support for "stripline"
	changed: \f as first caracter - rest of line is ignored

	* avatar.c (avt_initialize): don't even try to initialize the 
	mouse with the fbcon driver

	* Makefile.in (install) (install-strip): 
	create directories if necessary

	* avtman: uses "./avatarsay-s" when it exists

	* Makefile.in: target uninstall,
	make avatarsay-s as default

2007-07-01  Andreas K. Foerster  <info@akfoerster.de>

	* version 0.3 released
